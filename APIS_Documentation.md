| Endpoint                          | Método | URL                                      | Parámetros             | Headers                         | Descripción                                                            | Respuesta Exitosa                                                                                                                                                                                                                   | Códigos de Estado                                               |
|-----------------------------------|--------|------------------------------------------|-------------------------|----------------------------------|------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------|
| Get Trait Categories              | GET    | /api/trait-categories                    | Ninguno                 | Authorization: Bearer {token}   | Devuelve todas las categorías de traits con el conteo de modelos PRS | ```json [{"id": 1, "name": "Biology process", "traits": [1, 2], "pgss": 34}, {"id": 2, "name": "Body measurement", "traits": [3], "pgss": 5}]```                                           | 200 OK, 401 Unauthorized, 500 Internal Server Error             |
| Get Traits by Trait Category      | GET    | /api/trait-categories/33                 | categoryId: en path     | Authorization: Bearer {token}   | Devuelve los traits asociados a una categoría específica              | ```json {"1": {"id": 1, "name": "Cardiovascular measurement", "pgss": 34, "description": "Descripción del trait", "URL": "https://ejemplo.com", "onto_id": "EFO_000001"}}```                    | 200 OK, 400 Bad Request, 401 Unauthorized, 500 Internal Server Error |
| Post PRSModels associated with Traits | POST   | /api/Trait_PRSModel/Trait_To_PRS        | Lista de traitId        | {"traitIds":[720,721,722]}                             | Dada una lista de traitId devuelve los modelos PRS asociados          | ```json { "prsModels": [{ "id": 9111, "name": "PRS29_AAA", "numberOfSNP": 29, "pgscId": "PGS000753", "pgscURL": "https://www.pgscatalog.org/score/PGS000753/", "publicationId": 864 }], "message": "Se encontraron 1 modelos PRS asociados con los traits seleccionados" }``` | 200 OK, 400 Bad Request, 405 Method Not Allowed, 500 Internal Server Error |
| Get Phenotype Categories          | GET    | /api/phenotype-categories                | Ninguno                 | null                             | Devuelve todas las categorías de fenotipos con el conteo de modelos PRS y los traits asociados. | ```json { "categories": [ { "id": 33, "label": "Biological process", "traits": [ "EFO_0004347", "EFO_0004329", "EFO_0007585", "EFO_0004315", "EFO_0004337", "EFO_0007766", "EFO_0008579", "EFO_0005422", "EFO_0004319", "EFO_0005670", "EFO_0010158" ], "prs_count": 37 }, { "id": 34, "label": "Body measurement", "traits": [ "EFO_0004344", "EFO_0007788", "EFO_0005106", "EFO_0007800", "EFO_0004340", "EFO_0004338", "EFO_0004324", "EFO_0005935", "EFO_0004343" ], "prs_count": 184 } ] }``` | 200 OK, 500 Internal Server Error |
| Post Ancestry Selector            | POST   | /api/AncestrySelector/AncestrySelector  | String de una Ancestría o su abreviación (símbolo) | {"ancestryLabel": "EUR"}                             | Dada una ancestría, devuelve los modelos PRS asociados a esa ancestría | ```json { "message": "Se encontraron 4424 modelos PRS para ancestría \"eur\"", "prsModels": [ { "id": 8361, "name": "PRS77_BC", "numberOfSNP": 77, "pgscId": "PGS000001", "pgscURL": "https://www.pgscatalog.org/score/PGS000001/", "publicationId": 709, "broadAncestryCategories": [ { "percentage": 100, "broadAncestryId": 62, "prsModelId": 8361, "broadAncestryCategory": { "id": 62, "symbol": "EUR", "label": "European" } } ] } ] }``` | 200 OK, 400 Bad Request, 404 Not Found, 500 Internal Server Error |
| Get Trait Ontology Detail         | GET    | /api/etl/detallefenotipoonto?traitId=728            | traitId: en query       | null                             | Según un traitId, devuelve el label, descripción y URL de ontología asociada | ```json { "id": 728, "label": "addictive behaviour", "description": "The observable, measurable, and often pathological activity of an organism that portrays its inability to overcome a habit resulting in an insatiable craving for a substance or for performing certain acts. The addictive behavior includes the emotional and physical overdependence on the object of habit in increasing amount or frequency.", "ontologyUrl": "http://www.ebi.ac.uk/efo/EFO_0004347" }``` | 200 OK, 401 Unauthorized, 500 Internal Server Error |
| Get PRS Models by Ancestry ID     | GET    | /api/AncestrySelector/filterByAncestry          | broadAncestryId: en query string (ej: ?broadAncestryId=62) | null                             | Devuelve los modelos PRS asociados a un ID de ancestría específico     | ```json [ { "id": 8361, "name": "PRS77_BC", "pgscId": "PGS000001", "pgscURL": "https://www.pgscatalog.org/score/PGS000001/", "broadAncestryCategories": [ { "percentage": 100, "broadAncestryCategory": { "label": "European", "symbol": "EUR" } } ] } ] ``` | 200 OK, 400 Bad Request, 500 Internal Server Error |
| Get Trait IDs with EFO ID         | GET    | /api/Trait_PRSModel/selectEFOtraits?efoIds=EFO_0004214,EFO_0009460                           | efoId: en query string (ej: ?efoId=EFO_0004347) | null                             | Dado un EFO ID, devuelve los traitId relacionados con ese fenotipo     | ```json { "traitIds": [728, 731], "message": "Se encontraron 2 traits asociados con el EFO ID 'EFO_0004347'" } ```                                                                                                                  | 200 OK, 400 Bad Request, 404 Not Found, 500 Internal Server Error |
